<div>
  <h5 class="mb-3">Filter options:</h5>
  <div class="d-flex gap-3">
    <div class="select flex justify-content-center mb-5">
      <p-dropdown
        [options]="timeOptions"
        [(ngModel)]="selectedTimeOption"
        (onChange)="onTimeChange()"
        optionLabel="label"
      />
    </div>
    <div class="select flex justify-content-center mb-5">
      <p-dropdown
        [options]="fieldOptions"
        [(ngModel)]="selectedField"
        (onChange)="onFieldChange()"
        optionLabel="label"
      />
    </div>
  </div>
</div>

<div class="my-table">
  <p-table
    #dt2
    [value]="products"
    dataKey="id"
    [globalFilterFields]="['code']"
    [tableStyle]="{ 'min-width': '75rem' }"
  >
    <ng-template pTemplate="caption">
      <div class="d-flex align-items-center">
        <p-iconField iconPosition="left" class="ml-auto">
          <p-inputIcon>
            <i class="pi pi-search"></i>
          </p-inputIcon>
          <input
            pInputText
            type="text"
            (input)="filterTable($event)"
            placeholder="Search Code"
          />
        </p-iconField>
        <div class="ms-auto">
          <span>Tỷ (Đồng)</span>
        </div>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="code" style="width: 20%">
          Code
          <p-sortIcon field="code" />
        </th>
        <th pSortableColumn="group" style="width: 20%">
          Group
          <p-sortIcon field="group" />
        </th>
        <th pSortableColumn="value1" style="width: 20%">
          Recent Quarter/Year
          <p-sortIcon field="value1" />
        </th>
        <th pSortableColumn="value2" style="width: 20%">
          Previous Quarter/Year
          <p-sortIcon field="value2" />
        </th>
        <th pSortableColumn="percent" style="width: 20%">
          Percentage
          <p-sortIcon field="percent" />
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>
      <tr>
        <td>
          {{ customer.code ?? null }}
        </td>
        <td>
          {{ customer?.group ?? null }}
        </td>
        <td>
          {{ customer.value1 ?? null }}
        </td>
        <td>
          {{ customer.value2 ?? null }}
        </td>
        <td>{{ customer.percent ?? null }}%</td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="5">No customers found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
